---
import Layout from '../layouts/Layout.astro';
import Technology from '../components/Technology.astro';
import Testimonials from '../components/Testimonials.astro';
import Projects from '../components/Projects.astro';
import Books from '../components/Books.astro';
import AboutMe from '../components/AboutMe.astro';
import Hero from '../components/Hero.astro';
import Footer from '../components/Footer.astro';
import Manifesto from '../components/Manifesto.astro';
import HowICanHelp from '../components/HowICanHelp.astro';
import AnalyticsWrapper from '../components/AnalyticsWrapper.astro';
import { 
  keyExpertise, 
  howICanHelp,
  projects, 
  books,
  socialMedia, 
  testimonials,
  booksRead,
  manifesto,
  principles,
  location,
  calculateYearsExperience, 
  getAmountOfProjects,
  getTechnologies 
} from '../data/portfolioData.js';

// Calculate dynamic values
const yearsExperience = calculateYearsExperience();
const amountOfProjects = getAmountOfProjects();
const technologies = getTechnologies();

---

<Layout 
  title="Marko Andersson - Homepage" 
  description="Explore Marko Andersson's expertise, featured projects, testimonials, and books that influenced his journey. Get in touch to collaborate or learn more."
>
  <div class="bg-primary-dark text-primary min-h-screen font-sans">

    <main class="container mx-auto px-6 py-12">
      <AnalyticsWrapper componentId="hero-section" componentName="Hero">
        <Hero socialMedia={socialMedia} />
      </AnalyticsWrapper>
    </main>

    <AnalyticsWrapper componentId="technology-section" componentName="Technology">
      <Technology technologies={technologies} />
    </AnalyticsWrapper>

    <main class="container mx-auto px-6 py-12">

      <AnalyticsWrapper componentId="about-me-section" componentName="AboutMe">
        <AboutMe 
          title="About Me & Expertise"
          keyExpertise={keyExpertise}
          yearsExperience={yearsExperience}
          booksRead={booksRead}
          amountOfProjects={amountOfProjects}
        />
      </AnalyticsWrapper>

      <AnalyticsWrapper componentId="how-i-can-help-section" componentName="HowICanHelp">
        <HowICanHelp 
          title="How I Can Help?"
          howICanHelp={howICanHelp}
        />
      </AnalyticsWrapper>

      <AnalyticsWrapper componentId="manifesto-section" componentName="Manifesto">
        <Manifesto title="My Manifesto" manifesto={manifesto} principles={principles} />
      </AnalyticsWrapper>

      <AnalyticsWrapper componentId="testimonials-section" componentName="Testimonials">
        <Testimonials title="What People Say" testimonials={testimonials} />
      </AnalyticsWrapper>

      <AnalyticsWrapper componentId="projects-section" componentName="Projects">
        <Projects title="Featured Projects" projects={projects} />
      </AnalyticsWrapper>

      <AnalyticsWrapper componentId="books-section" componentName="Books">
        <Books title="Books That Influenced Me" books={books} />
      </AnalyticsWrapper>
    </main>

    <AnalyticsWrapper componentId="footer-section" componentName="Footer">
      <Footer />
    </AnalyticsWrapper>
  </div>
</Layout>
