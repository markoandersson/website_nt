---
// src/components/Hero.astro
import { location, heroTagline } from '../data/portfolioData.js';

export interface Props {
  socialMedia: {
    name: string;
    icon: string;
    url: string;
  }[];
}

const { socialMedia } = Astro.props;
---

<section id="home" class="bg-gray-900 bg-primary-dark py-20 md:py-32">
  <div class="container mx-auto">
    <div class="flex flex-col md:flex-row items-center">

      <div class="md:w-3/5 lg:w-3/5 text-center md:text-left mb-12 md:mb-0 md:pr-10 lg:pr-16">
        <h1 class="text-2xl md:text-2xl font-bold mb-3" style="font-family: var(--font-family-mono);">
          <span class="text-code-green">{heroTagline.codeComment}</span>
        </h1>
        <h2 class="text-4xl md:text-5xl font-bold mb-3" style="font-family: var(--font-family-mono);">
          <span class="text-purple-400">const</span> <span class="text-yellow-400">developer</span> = <span class="text-sky-300">"Marko Andersson"</span>;<span class="typing-cursor">|</span>
        </h2>
        <p class="text-lg md:text-xl text-accent-lighter mb-5">
          {heroTagline.subtitle}
        </p>

      </div>

      <div class="md:w-2/5 lg:w-1/2 flex justify-center md:pl-10 lg:pl-0">
        <div class="relative">
          <!-- Detective badge overlay -->
          <div class="absolute top-2 right-2 bg-detective-amber text-primary-dark px-2 py-1 rounded-full text-xs font-bold" style="font-family: var(--font-family-mono);">
            <i class="fa-solid fa-id-badge mr-1"></i>
            LEAD DETECTIVE
          </div>
          <img
            id="sherlock-image"
            src="/images/sherlock-holmes.png" alt="Marko Andersson"
            class="rounded-full w-48 h-48 sm:w-56 sm:h-56 md:w-64 md:h-64 lg:w-80 lg:h-80 object-cover bg-primary-light border-0 shadow-xl cursor-pointer"
          />
        </div>
      </div>

    </div>
  </div>
  <div class="container mx-auto px-6 text-center">
    <div class="flex flex-wrap md:justify-start justify-center pt-6 items-center">
      <div class="flex space-x-8 mr-8 mb-4 md:mb-0">
        {socialMedia.map(social => (
            <a href={social.url} target="_blank" rel="noopener noreferrer" class="text-accent-light hover:text-accent-light transition duration-300">
              <span class="sr-only">{social.name}</span>
              <i class={`${social.icon === 'envelope' ? 'fa-solid' : 'fa-brands'} fa-${social.icon} text-4xl`} aria-hidden="true"></i>
            </a>
        ))}
      </div>

      <div class="flex items-center text-accent-light">
          <i class="fa-solid fa-map-marker-alt text-3xl mr-2" aria-hidden="true"></i>
        <a
          href={location.mapUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center text-accent-light transition duration-300"
        >
          <span class="text-lg">{location.city}, {location.country}</span>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Elementary, my dear Watson -->
<script>
  // Click counter easter egg for Sherlock image
  let clickCount = 0;
  const sherlockImage = document.getElementById('sherlock-image');

  if (sherlockImage) {
    sherlockImage.addEventListener('click', () => {
      clickCount++;
      if (clickCount === 5) {
        alert("üîç Elementary! You've discovered my secret. DM me on LinkedIn for a code riddle.");
        clickCount = 0;
      }
    });
  }
</script>
